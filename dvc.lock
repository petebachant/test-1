schema: '2.0'
stages:
  run-main-notebook:
    cmd: calkit nb execute --environment main --no-check --language python --to 
      html "notebooks/main.ipynb"
    deps:
    - path: .calkit/notebooks/cleaned/notebooks/main.ipynb
      hash: md5
      md5: 6ac1c2a0dd045a792943472a2e1f0b42
      size: 653983
    - path: data/raw/penguins.csv
      hash: md5
      md5: 15d47d23d10f2f2f842439a2abdb771d
      size: 15010
    - path: uv.lock
      hash: md5
      md5: 2279fd3dc518c2c475923e43d7c58340
      size: 352777
    outs:
    - path: .calkit/notebooks/html/notebooks/main.html
      hash: md5
      md5: e6f202e0b986f4fc8e069b59e787a6bd
      size: 2287490
    - path: figures
      hash: md5
      md5: 92cd7664dc59b95096d9dffbdfb9729c.dir
      size: 1060474
      nfiles: 3
    - path: results/vif.json
      hash: md5
      md5: 752f8ea70cb3caacdeae2f1f5a24f677
      size: 160
    - path: tables
      hash: md5
      md5: f2258c7046617371a0f55d0f34f9bace.dir
      size: 964
      nfiles: 1
  build-paper:
    cmd: calkit latex build -e tex --no-check paper/paper.tex
    deps:
    - path: .calkit/env-locks/tex
      hash: md5
      md5: 74d25e907b21e3ff64a91b36220aa492.dir
      size: 2342
      nfiles: 2
    - path: paper/figures
      hash: md5
      md5: c548cf65c1c0e8d6502a49fd90e84d7c.dir
      size: 1104433
      nfiles: 4
    - path: paper/paper.tex
      hash: md5
      md5: f40f9d9f3118cd4081e3bad9903822be
      size: 912
    - path: paper/references.bib
      hash: md5
      md5: 2fc1994a416f2c333bb576ad351f0fce
      size: 5856
    outs:
    - path: paper/paper.pdf
      hash: md5
      md5: 559d325a7a4a696676213c64c671d2fb
      size: 113297
  build-pubs/conf-paper-1:
    cmd: calkit latex build -e tex --no-check pubs/conf-paper-1/main.tex
    deps:
    - path: .calkit/env-locks/tex
      hash: md5
      md5: 74d25e907b21e3ff64a91b36220aa492.dir
      size: 2342
      nfiles: 2
    - path: pubs/conf-paper-1/figures
      hash: md5
      md5: 1907bcd2d831e01ccc227a116430932d.dir
      size: 1060187
      nfiles: 3
    - path: pubs/conf-paper-1/main.tex
      hash: md5
      md5: de3ea80d0714f79a864be699774e983d
      size: 1141
    - path: pubs/conf-paper-1/references.bib
      hash: md5
      md5: 2fc1994a416f2c333bb576ad351f0fce
      size: 5856
    - path: pubs/conf-paper-1/results.tex
      hash: md5
      md5: d227bd082edb72e80d699f07f1d6905e
      size: 602
    - path: pubs/conf-paper-1/tables
      hash: md5
      md5: 6fd658bbac3b089c91fc1165b57f3a29.dir
      size: 964
      nfiles: 1
    outs:
    - path: pubs/conf-paper-1/main.pdf
      hash: md5
      md5: 217e8fe4c1c07eaa3ca6127cc3b24fd8
      size: 540220
  build-conf-paper-1:
    cmd: calkit latex build -e tex --no-check pubs/conf-paper-1/main.tex
    deps:
    - path: .calkit/env-locks/tex
      hash: md5
      md5: 74d25e907b21e3ff64a91b36220aa492.dir
      size: 2342
      nfiles: 2
    - path: pubs/conf-paper-1/figures
      hash: md5
      md5: 92cd7664dc59b95096d9dffbdfb9729c.dir
      size: 1060474
      nfiles: 3
    - path: pubs/conf-paper-1/main.tex
      hash: md5
      md5: c5e73559723c48b443ed985ac455dec5
      size: 1190
    - path: pubs/conf-paper-1/references.bib
      hash: md5
      md5: 2fc1994a416f2c333bb576ad351f0fce
      size: 5856
    - path: pubs/conf-paper-1/results.tex
      hash: md5
      md5: 3248ce8e560d6978b14ab0e1c88d245a
      size: 724
    - path: pubs/conf-paper-1/tables
      hash: md5
      md5: f2258c7046617371a0f55d0f34f9bace.dir
      size: 964
      nfiles: 1
    outs:
    - path: pubs/conf-paper-1/main.pdf
      hash: md5
      md5: 5e06285a9bda67440e50cc9bada7d1b0
      size: 540535
  map-paths:
    cmd: calkit map-paths --dir-to-dir-merge 'figures->paper/figures' 
      --dir-to-dir-merge 'figures->pubs/conf-paper-1/figures' 
      --dir-to-dir-replace 'tables->paper/tables' --dir-to-dir-replace 
      'tables->pubs/conf-paper-1/tables'
    deps:
    - path: figures
      hash: md5
      md5: 92cd7664dc59b95096d9dffbdfb9729c.dir
      size: 1060474
      nfiles: 3
    - path: figures
      hash: md5
      md5: 92cd7664dc59b95096d9dffbdfb9729c.dir
      size: 1060474
      nfiles: 3
    - path: tables
      hash: md5
      md5: f2258c7046617371a0f55d0f34f9bace.dir
      size: 964
      nfiles: 1
    - path: tables
      hash: md5
      md5: f2258c7046617371a0f55d0f34f9bace.dir
      size: 964
      nfiles: 1
    outs:
    - path: paper/figures
      hash: md5
      md5: c548cf65c1c0e8d6502a49fd90e84d7c.dir
      size: 1104433
      nfiles: 4
    - path: paper/tables
      hash: md5
      md5: f2258c7046617371a0f55d0f34f9bace.dir
      size: 964
      nfiles: 1
    - path: pubs/conf-paper-1/figures
      hash: md5
      md5: 92cd7664dc59b95096d9dffbdfb9729c.dir
      size: 1060474
      nfiles: 3
    - path: pubs/conf-paper-1/tables
      hash: md5
      md5: f2258c7046617371a0f55d0f34f9bace.dir
      size: 964
      nfiles: 1
  results-to-latex:
    cmd: "calkit latex from-json 'results/vif.json' --output 'paper/results.tex' --output
      'pubs/conf-paper-1/results.tex' --format-json '{\"super_cool_result\": \"{bill_length_mm:.2f}\"\
      }'"
    deps:
    - path: results/vif.json
      hash: md5
      md5: 752f8ea70cb3caacdeae2f1f5a24f677
      size: 160
    outs:
    - path: paper/results.tex
      hash: md5
      md5: 3248ce8e560d6978b14ab0e1c88d245a
      size: 724
    - path: pubs/conf-paper-1/results.tex
      hash: md5
      md5: 3248ce8e560d6978b14ab0e1c88d245a
      size: 724
