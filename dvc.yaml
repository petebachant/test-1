stages:
  _check-env-main:
    cmd: calkit check environment --name main
    deps:
      - pyproject.toml
    outs:
      - uv.lock:
          cache: false
          persist: true
    always_changed: true
    desc: Automatically generated by Calkit. Changes made here will be
      overwritten.
  _clean-nb-run-main-notebook:
    cmd: calkit nb clean "notebooks/main.ipynb"
    deps:
      - notebooks/main.ipynb
    outs:
      - .calkit/notebooks/cleaned/notebooks/main.ipynb:
          cache: false
    desc: Automatically generated from the 'run-main-notebook' stage 
      in calkit.yaml. Changes made here will be overwritten.
  run-main-notebook:
    cmd: calkit nb execute --environment main --no-check --language 
      python --to html "notebooks/main.ipynb"
    deps:
      - .calkit/notebooks/cleaned/notebooks/main.ipynb
      - data/raw/penguins.csv
      - uv.lock
    outs:
      - figures:
          cache: false
          persist: false
      - tables:
          cache: false
          persist: false
      - results/vif.json:
          cache: false
          persist: false
      - .calkit/notebooks/executed/notebooks/main.ipynb:
          cache: false
      - .calkit/notebooks/html/notebooks/main.html:
          cache: false
    desc: Automatically generated from the 'run-main-notebook' stage 
      in calkit.yaml. Changes made here will be overwritten.
